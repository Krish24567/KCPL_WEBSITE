<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Have a question about our organic compost or plant nutrients? Get in touch with the Kalpaka Organics team. Contact us for sales, support, or a partnership inquiry.">
    <title>Kalpaka Organics - Contact Us</title>
    <!-- Favicon -->
    <link rel="icon" href="logo1.jpeg" type="image/png">

    <!-- Custom CSS - This links to your provided style.css -->
    <link rel="stylesheet" href="style.css">

    <!-- Google Fonts: Inter for body, Montserrat for headings (added Montserrat for consistency with previous outputs) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

    <!-- Loader -->
    <div id="loader-wrapper">
        <div id="loader" style="background-image: url('logo1.jpeg');"></div>
    </div>

    <!-- Fixed Header/Navigation - Using your existing header structure -->
    <header class="header">
        <nav class="header-nav">
            <!-- Logo and Title -->
            <div class="header-logo-container">
                <img src="logo1.jpeg" alt="Kalpaka Organics Logo">

            </div>
            <!-- Desktop Navigation -->
            <ul class="nav-list">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="about.html" class="nav-link">About Us</a></li>
                <li><a href="products.html" class="nav-link">Products</a></li>
                <li><a href="about.html#mission-vision" class="nav-link">Mission & Vision</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
                <li><a href="blog.html" class="nav-link">Blog</a></li>
            </ul>
            <!-- Hamburger Menu Icon -->
            <div class="hamburger-menu" id="hamburger-menu">
                <i class="fa-solid fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Mobile Navigation Overlay and Menu -->
    <div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
    <div class="mobile-nav" id="mobile-nav">
        <div class="close-mobile-nav" id="close-mobile-nav">
            <i class="fa-solid fa-times"></i>
        </div>
        <ul class="mobile-nav-list">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="about.html#mission-vision">Mission & Vision</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="blog.html">Blog</a></li>
        </ul>
    </div>

    <main>
        <!-- Contact Us Hero Section with Overlapping Background and Floating Form -->
        <section id="contact-hero" class="page-section contact-hero-section active">
            <!-- The background image is now a CSS pseudo-element on contact-hero-section -->
            <div class="contact-hero-content-wrapper">
                <!-- The white floating contact form card -->
                <div class="contact-form-card fade-in-left">
                    <h1 class="contact-card-title">Contact Us</h1>
                    <p class="contact-card-subtitle">Intended in knowing more, requesting a large product order or would just like to say hi? Fill the form below to get in touch with our team.</p>
                    <form id="contact-main-form"> <!-- Main Contact Form -->
                        <div class="form-group-inline">
                            <div class="form-group">
                                <label for="contact-name">Full Name</label>
                                <input type="text" id="contact-name" name="name" placeholder="" required>
                            </div>
                            <div class="form-group">
                                <label for="contact-email">Email Address</label>
                                <input type="email" id="contact-email" name="email" placeholder="" required>
                            </div>
                        </div>
                        <div class="form-group-inline">
                            <div class="form-group">
                                <label for="contact-phone">Phone</label>
                                <input type="tel" id="contact-phone" name="phone" placeholder="">
                            </div>
                            <div class="form-group">
                                <label for="contact-subject">Subject</label>
                                <select id="contact-subject" name="subject">
                                    <option value="general">General Question</option>
                                    <option value="sales">Sales Inquiry</option>
                                    <option value="support">Support Request</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="contact-message">Message</label>
                            <textarea id="contact-message" name="message" rows="5" placeholder=""></textarea>
                        </div>
                        <div class="form-submit-center">
                            <button type="submit" class="btn-modern-green">Send Message <i class="fa-solid fa-arrow-right ml-2"></i></button>
                        </div>
                    </form>
                    <div id="contact-main-form-message" class="text-center mt-4"></div> <!-- Message div for main form -->
                </div>
            </div>
        </section>

        <!-- General Contact Details Section -->
        <section id="contact-details" class="page-section bg-gray-50">
            <div class="content-container">
                <h2 class="section-heading">Our Details</h2>
                <div class="contact-info-grid">
                    <div class="contact-item fade-in-up">
                        <i class="fa-solid fa-location-dot"></i>
                        <h3>Head Office Address</h3>
                        <p>4/133X, Muthammal Colony, 3rd Street, Thoothukudi, Tamil Nadu 628002.</p>
                    </div>
                    <div class="contact-item fade-in-up">
                        <i class="fa-solid fa-industry"></i>
                        <h3>Factory Address</h3>
                        <p> 4/61, Pudiyamputhur Road, Nainarpuram Post, Thoothukudi, Tamil Nadu 628402..</p>
                    </div>
                    <div class="contact-item fade-in-up">
                        <i class="fa-solid fa-phone"></i>
                        <h3>Phone</h3>
                        <p>91-461-2347668</p>
                        <p></p>
                    </div>
                    <div class="contact-item fade-in-up">
                        <i class="fa-solid fa-envelope"></i>
                        <h3>Email Us</h3>
                        <p>kalpakaorganics<br>@gmail.com</p>
                        <p></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Google Map Section -->
        <section id="contact-map" class="page-section">
            <div class="content-container">
                <h2 class="section-heading">Find Us on Map</h2>
                <div class="google-map-iframe-wrapper fade-in-up">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3934.063498396373!2d78.12900667502078!3d8.817413690765251!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b03eff3f37149e9%3A0x6756f6f6f5aad59!2sKalpaka%20Chemicals%20Pvt%20Ltd!5e0!3m2!1sen!2sin!4v1720420000000!5m2!1sen!2sin"
                        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </section>

        <!-- Registration & Enquiry Forms Section (Tabbed) -->
        <section id="registration-enquiry" class="page-section bg-gray-50">
            <div class="content-container">
                <h2 class="section-heading">Registration & Enquiry</h2>
                <div class="tab-buttons fade-in-up">
                    <button class="tab-button active" data-tab="supplier-reg" >Supplier Registration</button>
                    <button class="tab-button" data-tab="distributor-reg" id ="registrationBtn">Distributor Registration</button>
                    <button class="tab-button" data-tab="enquiry" id="enquiryBtn">Enquiry</button>
                </div>

                <div id="supplier-reg" class="tab-content active fade-in-up">
                    <form id="supplier-reg-form"> <!-- Supplier Registration Form -->
                        <input type="hidden" name="_subject" value="Supplier Registration Form Submission"> <!-- Hidden subject field -->
                        <div class="form-group">
                            <label for="supplier-name">Name</label>
                            <input type="text" id="supplier-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="supplier-email">Email</label>
                            <input type="email" id="supplier-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="supplier-country">Country</label>
                            <input type="text" id="supplier-country" name="country">
                        </div>
                        <div class="form-group">
                            <label for="supplier-company">Company Name</label>
                            <input type="text" id="supplier-company" name="company">
                        </div>
                        <div class="form-group">
                            <label for="supplier-phone">Phone</label>
                            <input type="tel" id="supplier-phone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="supplier-city">City</label>
                            <input type="text" id="supplier-city" name="city">
                        </div>
                        <div class="form-group">
                            <label for="supplier-product-details">Please Share Your Products details</label>
                            <textarea id="supplier-product-details" name="product_details" rows="5"></textarea>
                        </div>
                        <div class="form-submit-center">
                            <button type="submit" class="btn-modern">Register as Supplier</button>
                        </div>
                    </form>
                    <div id="supplier-reg-form-message" class="text-center mt-4"></div> <!-- Message div for supplier form -->
                </div>

                <div id="distributor-reg" class="tab-content fade-in-up">
                    <form id="distributor-reg-form"> <!-- Distributor Registration Form -->
                        <input type="hidden" name="_subject" value="Distributor Registration Form Submission"> <!-- Hidden subject field -->
                        <div class="form-group">
                            <label for="distributor-name">Name</label>
                            <input type="text" id="distributor-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="distributor-email">Email</label>
                            <input type="email" id="distributor-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="distributor-country">Country</label>
                            <input type="text" id="distributor-country" name="country">
                        </div>
                        <div class="form-group">
                            <label for="distributor-company">Company Name</label>
                            <input type="text" id="distributor-company" name="company">
                        </div>
                        <div class="form-group">
                            <label for="distributor-phone">Phone</label>
                            <input type="tel" id="distributor-phone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="distributor-city">City</label>
                            <input type="text" id="distributor-city" name="city">
                        </div>
                        <div class="form-group">
                            <label for="distributor-product-details">Please Share Your Products details</label>
                            <textarea id="distributor-product-details" name="product_details" rows="5"></textarea>
                        </div>
                        <div class="form-submit-center">
                            <button type="submit" class="btn-modern">Register as Distributor</button>
                        </div>
                    </form>
                    <div id="distributor-reg-form-message" class="text-center mt-4"></div> <!-- Message div for distributor form -->
                </div>

                <div id="enquiry" class="tab-content fade-in-up">
                    <form id="enquiry-form"> <!-- Enquiry Form -->
                        <input type="hidden" name="_subject" value="Enquiry Form Submission"> <!-- Hidden subject field -->
                        <div class="form-group">
                            <label for="enquiry-name">Name</label>
                            <input type="text" id="enquiry-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="enquiry-email">Email</label>
                            <input type="email" id="enquiry-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="enquiry-country">Country</label>
                            <input type="text" id="enquiry-country" name="country">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-company">Company Name</label>
                            <input type="text" id="enquiry-company" name="company">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-contact-number">Contact Number</label>
                            <input type="tel" id="enquiry-contact-number" name="contact_number">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-city">City</label>
                            <input type="text" id="enquiry-city" name="city">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-product-required">Product Required</label>
                            <input type="text" id="enquiry-product-required" name="product_required">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-quantity-required">Quantity Required</label>
                            <input type="text" id="enquiry-quantity-required" name="quantity_required">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-application">Application</label>
                            <input type="text" id="enquiry-application" name="application">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-specification">Specification</label>
                            <input type="text" id="enquiry-specification" name="specification">
                        </div>
                        <div class="form-group">
                            <label for="enquiry-requirement">Share Your Requirement</label>
                            <textarea id="enquiry-requirement" name="requirement" rows="5"></textarea>
                        </div>
                        <div class="form-submit-center">
                            <button type="submit" class="btn-modern">Submit Enquiry</button>
                        </div>
                    </form>
                    <div id="enquiry-form-message" class="text-center mt-4"></div> <!-- Message div for enquiry form -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer - Using your existing footer structure -->
    <footer class="footer">
        <div class="footer-top-sections">
            <div class="footer-section social-media">
                <h3>Connect With Us</h3>
                <div class="footer-contact-line">
                    <i class="fa-solid fa-location-dot"></i> <span>  4/133X, Muthammal Colony, 3rd Street, Thoothukudi, Tamil Nadu
                        628002.</span>
                </div><br>
                <div class="footer-contact-line">
                    <i class="fa-solid fa-phone"></i> <span>91-461-2347668</span>
                </div><br>
                <div class="footer-contact-line">
                    <i class="fa-solid fa-envelope"></i> <span>kalpakaorganics@gmail.com</span>
                </div>
                <div class="social-icons">
                    <a href="https://wa.me/yourphonenumber" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://facebook.com/yourpagename" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://instagram.com/yourusername" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com/@yourchannelname" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-section certifications">
                <h3>Our Certifications</h3>
                <ul>
                    <li><i class="fa-solid fa-award"></i> ISO 9001:2015 Certified</li>
                    <li><i class="fa-solid fa-leaf"></i> Organic Certified Supplier</li>
                    <li><i class="fa-solid fa-handshake"></i> Trusted Export Partner</li>
                </ul>
            </div>
            <!-- New Quick Links Section with Icons -->
            <div class="footer-section quick-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html"><i class="fa-solid fa-home"></i> Home</a></li>
                    <li><a href="about.html"><i class="fa-solid fa-circle-info"></i> About Us</a></li>
                    <li><a href="products.html"><i class="fa-solid fa-box"></i> Products</a></li>
                    <li><a href="contact.html"><i class="fa-solid fa-envelope"></i> Contact</a></li>
                    <li><a href="blog.html"> <i class="fa-solid fa-newspaper"></i> Blog</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom-copyright">
            <p>&copy; 2025 Kalpaka Organics. All rights reserved. Cultivating Health, Nurturing Earth.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript for loader, mobile nav, and tab functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Loader Logic ---
            const loaderWrapper = document.getElementById('loader-wrapper');
            window.addEventListener('load', () => {
                loaderWrapper.classList.add('loader-hidden');
            });

            // --- Mobile Navigation Logic ---
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const mobileNav = document.getElementById('mobile-nav');
            const closeMobileNav = document.getElementById('close-mobile-nav');
            const mobileNavOverlay = document.getElementById('mobile-nav-overlay');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-list a');

            hamburgerMenu.addEventListener('click', () => {
                mobileNav.classList.add('open');
                mobileNavOverlay.classList.add('open');
            });

            closeMobileNav.addEventListener('click', () => {
                mobileNav.classList.remove('open');
                mobileNavOverlay.classList.remove('open');
            });

            mobileNavOverlay.addEventListener('click', () => {
                mobileNav.classList.remove('open');
                mobileNavOverlay.classList.remove('open');
            });

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileNav.classList.remove('open');
                    mobileNavOverlay.classList.remove('open');
                });
            });

            // --- Page Section Intersection Observer (for scroll animations) ---
            const sections = document.querySelectorAll('.page-section');
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    } else {
                        // Optional: Remove 'active' class when out of view for re-animation on scroll back
                        // entry.target.classList.remove('active');
                    }
                });
            }, {
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the section is visible
            });

            // Observe all sections, including the contact hero
            sections.forEach(section => {
                sectionObserver.observe(section);
            });

            // --- Tabbed Forms Logic ---
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            function showTab(tabId) {
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });
                tabButtons.forEach(button => {
                    button.classList.remove('active');
                });

                document.getElementById(tabId).classList.add('active');
                document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            }

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.dataset.tab;
                    showTab(tabId);
                });
            });

            // Show the first tab by default on load
            if (tabButtons.length > 0) {
                showTab(tabButtons[0].dataset.tab);
            }

            // --- Generic Formspree Submission Function ---
            async function handleFormSubmission(formElement, messageDivElement, formspreeEndpoint) {
                const formData = new FormData(formElement);
                try {
                    const response = await fetch(formspreeEndpoint, {
                        method: "POST",
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    if (response.ok) {
                        messageDivElement.innerHTML = "<p style='color: green;'>Message sent successfully!</p>";
                        formElement.reset(); // Clear the form
                    } else {
                        const data = await response.json();
                        if (data.errors) {
                            messageDivElement.innerHTML = `<p style='color: red;'>Error: ${data.errors.map(err => err.message).join(', ')}</p>`;
                        } else {
                            messageDivElement.innerHTML = "<p style='color: red;'>Failed to send message. Please try again later.</p>";
                        }
                    }
                } catch (error) {
                    console.error("Form submission error:", error);
                    messageDivElement.innerHTML = "<p style='color: red;'>An unexpected error occurred. Please check your internet connection and try again.</p>";
                }
            }

            // --- Formspree Contact Form Submission Logic (Main Form) ---
            const contactForm = document.getElementById("contact-main-form");
            const contactFormMessageDiv = document.getElementById("contact-main-form-message");
            const formspreeGeneralEndpoint = "https://formspree.io/f/mqabrkqe"; // Your Formspree endpoint

            contactForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                await handleFormSubmission(contactForm, contactFormMessageDiv, formspreeGeneralEndpoint);
            });

            // --- Formspree Supplier Registration Form Submission Logic ---
            const supplierRegForm = document.getElementById("supplier-reg-form");
            const supplierRegFormMessageDiv = document.getElementById("supplier-reg-form-message");
            supplierRegForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                await handleFormSubmission(supplierRegForm, supplierRegFormMessageDiv, formspreeGeneralEndpoint);
            });

            // --- Formspree Distributor Registration Form Submission Logic ---
            const distributorRegForm = document.getElementById("distributor-reg-form");
            const distributorRegFormMessageDiv = document.getElementById("distributor-reg-form-message");
            distributorRegForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                await handleFormSubmission(distributorRegForm, distributorRegFormMessageDiv, formspreeGeneralEndpoint);
            });

            // --- Formspree Enquiry Form Submission Logic ---
            const enquiryForm = document.getElementById("enquiry-form");
            const enquiryFormMessageDiv = document.getElementById("enquiry-form-message");
            enquiryForm.addEventListener("submit", async function (e) {
                e.preventDefault();
                await handleFormSubmission(enquiryForm, enquiryFormMessageDiv, formspreeGeneralEndpoint);
            });
        });
    </script>
</body>
</html>
